var isObject = require('../internals/is-object');

// `ToPrimitive` abstract operation
<<<<<<< HEAD
// https://tc39.github.io/ecma262/#sec-toprimitive
=======
// https://tc39.es/ecma262/#sec-toprimitive
>>>>>>> dea1f40603bd8c2fd2deb4cd684cf871afc501c3
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (input, PREFERRED_STRING) {
  if (!isObject(input)) return input;
  var fn, val;
  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;
  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;
  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;
  throw TypeError("Can't convert object to primitive value");
};
